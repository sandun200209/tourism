/* Custom styles to override default circular images */

/* Containers: Un-circle and shape */
/* NOTE: Excluded .user-img container to avoid breaking flex layout of multiple avatars */
.image-pill,
.testi-img,
.product-card .image {
    border-radius: 12px !important;
    clip-path: none !important;
    aspect-ratio: 1 / 1 !important;
    overflow: hidden !important;
}

/* Images: Un-circle, shape, and fit */
.user-img img,
.image-pill img,
.testi-img img,
.product-card .image img {
    border-radius: 12px !important;
    clip-path: none !important;
    aspect-ratio: 1 / 1 !important;
    object-fit: cover !important;
}

/* FIX: Fixed size for testimonial and user images */
.user-img img,
.testi-img img {
    width: 60px !important;
    height: 60px !important;
}

/* FIX: Ensure product/destination images fill their container */
.product-card .image img,
.image-pill img {
    width: 100% !important;
    height: 100% !important;
}

/* ----------------------------------------------------------------
   Country Destination - Full Width Flex Accordion
----------------------------------------------------------------- */

.country-flex-wrap {
    width: 100%;
    margin-top: 100px;
    overflow: hidden;
}

/* Desktop Flex Layout */
@media (min-width: 992px) {
    .country-flex-container {
        display: flex;
        width: 100vw;
        height: 600px;
        /* Fixed height as requested */
        margin-left: calc(-50vw + 50%);
        /* Force full viewport width if inside a container */
        margin-right: calc(-50vw + 50%);
    }

    .country-flex-item {
        flex: 1;
        position: relative;
        height: 100%;
        overflow: hidden;
        transition: flex 0.5s ease;
        /* Smooth expansion */
        cursor: pointer;
        min-width: 0;
        /* Important for flex items to shrink properly */
        border-radius: 0;
        /* Remove rounded corners for connected look */
        margin: 0;
    }

    /* Expand on hover */
    .country-flex-item:hover {
        flex: 2;
        /* Expands wider */
    }

    .country-flex-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .country-flex-item:hover img {
        transform: scale(1.05);
        /* Subtle zoom effect */
    }

    /* Overlay Styling */
    .country-flex-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 30px 20px;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0));
        z-index: 2;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: flex-start;
        opacity: 0.9;
        transition: opacity 0.3s ease;
    }

    /* Text Handling */
    .country-flex-overlay .heading {
        color: #fff;
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 5px;
        white-space: nowrap;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        transform-origin: left bottom;
        transition: transform 0.3s ease;
    }

    /* Show less text when compressed, more when expanded if needed. 
       For now, we keep it simple. */
    .country-flex-overlay .sub-text {
        color: rgba(255, 255, 255, 0.9);
        font-size: 14px;
        opacity: 0.8;
    }

    /* Optional Vertical Text for non-hovered items if space is too tight?
       With 12 items, 100vw / 12 = ~8.3vw per item. On 1920px screen that's ~160px.
       Enough for short horizontal text like "Yala", but "Anuradhapura" might crop.
       Let's add truncation.
    */
    .country-flex-overlay .heading {
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

/* Mobile/Tablet Responsive Fallback */
@media (max-width: 991px) {
    .country-flex-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        padding: 0 15px;
    }

    .country-flex-item {
        width: 100%;
        height: 300px;
        border-radius: 12px;
        position: relative;
        overflow: hidden;
    }

    .country-flex-item img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .country-flex-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        padding: 20px;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
        color: #fff;
    }

    .country-flex-overlay .heading {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 4px;
        color: #fff;
    }

    .country-flex-overlay .sub-text {
        font-size: 14px;
        color: rgba(255, 255, 255, 0.8);
    }
}